<?xml version="1.0" encoding="UTF-8"?>
<!--
  Copyright 2014 Time Inc
  
  Licensed under the Apache License, Version 2.0 (the "License");
  you may not use this file except in compliance with the License.
  You may obtain a copy of the License at
  
    http://www.apache.org/licenses/LICENSE-2.0
  
  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<web-app xmlns="http://java.sun.com/xml/ns/javaee" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://java.sun.com/xml/ns/javaee 
          http://java.sun.com/xml/ns/javaee/web-app_3_0.xsd"
    version="3.0">
    
  <filter>
    <filter-name>userLoggedIn</filter-name>
    <filter-class>com.timeInc.ark.servlets.filters.UserLoggedInFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>userLoggedIn</filter-name>
    <url-pattern>/restricted/*</url-pattern>
  </filter-mapping>
  <filter>
    <filter-name>endTransFilter</filter-name>
    <filter-class>com.timeInc.ark.servlets.filters.EndTransactionFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>endTransFilter</filter-name>
    <url-pattern>*.noah</url-pattern>
  </filter-mapping>
  <servlet>
    <servlet-name>contentUpload</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.ContentUploadServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>contentUpload</servlet-name>
    <url-pattern>/restricted/uploadContent.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>previewUpload</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.PreviewUploadServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>previewUpload</servlet-name>
    <url-pattern>/restricted/previewUpload.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>publication</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.Publication</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>publication</servlet-name>
    <url-pattern>/restricted/getPublications.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>getIssues</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.GetIssuesServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>getIssues</servlet-name>
    <url-pattern>/restricted/getIssues.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>getIssueMeta</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.IssueMetaServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>getIssueMeta</servlet-name>
    <url-pattern>/restricted/getIssueMetas.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>getApplications</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.GetApplicationsServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>getApplications</servlet-name>
    <url-pattern>/restricted/getApplications.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>login</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.LoginServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>login</servlet-name>
    <url-pattern>/login.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>logout</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.LogoutServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>logout</servlet-name>
    <url-pattern>/logout</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>publishServlet</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.PublishServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>publishServlet</servlet-name>
    <url-pattern>/restricted/publish.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>IssueMetaWrite</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.IssueMetaWrite</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>IssueMetaWrite</servlet-name>
    <url-pattern>/restricted/writeIssueMeta.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>Event</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.EventServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>Event</servlet-name>
    <url-pattern>/restricted/getLogs.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>contentMatrix</servlet-name>
    <jsp-file>/contentMatrix.jsp</jsp-file>
  </servlet>
  <servlet-mapping>
    <servlet-name>contentMatrix</servlet-name>
    <url-pattern>/contentMatrix.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>LogExport</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.LogExport</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>LogExport</servlet-name>
    <url-pattern>/restricted/getLogExport.noah</url-pattern>
  </servlet-mapping>
  <listener>
    <listener-class>
  		com.timeInc.ark.servlets.ArkServletContext
  	</listener-class>
  </listener>
  <display-name>ark</display-name>
  <welcome-file-list>
    <welcome-file>login.jsp</welcome-file>
  </welcome-file-list>
  <resource-ref>
    <description>DB Connection</description>
    <res-ref-name>jdbc/ArkSource</res-ref-name>
    <res-type>javax.sql.DataSource</res-type>
    <res-auth>Container</res-auth>
  </resource-ref>
  <session-config>
    <session-timeout>60</session-timeout>
  </session-config>
  <servlet>
    <servlet-name>getProgressStatus</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.GetProgressStatus</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>getProgressStatus</servlet-name>
    <url-pattern>/restricted/getProgressStatus.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>PaymentServlet</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.PaymentServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>PaymentServlet</servlet-name>
    <url-pattern>/restricted/getPayment.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>IssueNameCreate</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.IssueNameCreate</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>IssueNameCreate</servlet-name>
    <url-pattern>/restricted/createIssues.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <description></description>
    <display-name>UserServlet</display-name>
    <servlet-name>UserServlet</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.UserServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>UserServlet</servlet-name>
    <url-pattern>/getUser.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <description></description>
    <display-name>MediaUpload</display-name>
    <servlet-name>MediaUpload</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.MediaUploadServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>MediaUpload</servlet-name>
    <url-pattern>/restricted/mediaUpload.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>GetMediaLocation</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.GetMediaLocation</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>GetMediaLocation</servlet-name>
    <url-pattern>/restricted/getMediaLocations.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>UpdateFolio</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.UpdateFolio</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>UpdateFolio</servlet-name>
    <url-pattern>/restricted/updateFolio.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>dpsDefaults</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.GetDpsDefaults</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>dpsDefaults</servlet-name>
    <url-pattern>/restricted/getDpsDefaults.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>dpsAppData</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.GetAppDataServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>dpsAppData</servlet-name>
    <url-pattern>/restricted/getDpsAppData.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>ScpAppData</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.GetAppDataServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ScpAppData</servlet-name>
    <url-pattern>/restricted/getScpAppData.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>createScpApp</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.EditScpAppServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>createScpApp</servlet-name>
    <url-pattern>/restricted/createScpApp.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>createDpsApp</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.EditDpsAppServlet</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>createDpsApp</servlet-name>
    <url-pattern>/restricted/createDpsApp.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>getImagePreviews</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.GetImagePreviews</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>getImagePreviews</servlet-name>
    <url-pattern>/restricted/getImagePreviews.noah</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>editImagePreviews</servlet-name>
    <servlet-class>com.timeInc.ark.servlets.EditImagePreviews</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>editImagePreviews</servlet-name>
    <url-pattern>/restricted/editImagePreviews.noah</url-pattern>
  </servlet-mapping>
  
  
</web-app>
